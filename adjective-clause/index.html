<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shirley's Advanced Grammar | Adjective Clauses Masterclass</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:ital,wght@0,600;0,700;1,600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            /* 形容詞子句專屬配色：Royal Amethyst (皇家紫水晶) */
            --primary-dark: #2e1065;   /* 深邃靛紫 (背景基底) */
            --primary-medium: #7e22ce; /* 皇家紫 (標題/強調) */
            --primary: #a855f7;        /* 明亮紫水晶 (按鈕/邊框) */
            --primary-light: #f3e8ff;  /* 淺薰衣草 (表格/背景塊) */
            --accent: #fbbf24;         /* 流光金 (點綴/高亮) */
            
            /* 視覺系統 (與名詞子句保持一致) */
            --glass-bg: rgba(255, 255, 255, 0.95);
            --glass-border: rgba(255, 255, 255, 0.8);
            --text-main: #111827;      /* 純黑，確保清晰 */
            --text-secondary: #374151; /* 深灰 */
            
            /* 陰影系統 */
            --shadow-card: 0 10px 30px -5px rgba(0, 0, 0, 0.3);
            --shadow-glow: 0 0 20px rgba(168, 85, 247, 0.4); /* 紫色光暈 */
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            /* 背景：深邃靛藍星空 */
            background: linear-gradient(to bottom, #0f172a 0%, #3b0764 100%);
            color: var(--text-main);
            line-height: 1.8;
            font-family: 'Inter', '微軟正黑體', sans-serif;
            font-weight: 400;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* --- 星空特效 --- */
        .stars-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }

        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            opacity: 0;
            animation: twinkle var(--duration) ease-in-out infinite;
        }

        @keyframes twinkle {
            0% { opacity: 0; transform: scale(0.5); }
            50% { opacity: var(--opacity); transform: scale(1); box-shadow: 0 0 4px rgba(255, 255, 255, 0.8); }
            100% { opacity: 0; transform: scale(0.5); }
        }
        
        /* Typography */
        h1, h2, h3 {
            font-family: 'Playfair Display', serif;
            color: var(--primary-medium);
        }
        
        h1 {
            font-size: 2.8rem;
            font-weight: 700;
            letter-spacing: -0.5px;
            margin-bottom: 0.5rem;
            color: #ffffff;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        h2 {
            font-size: 2rem;
            margin-bottom: 1.5rem;
            position: relative;
            padding-bottom: 0.8rem;
            color: var(--primary-medium);
            font-weight: 700;
        }
        
        h2::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 60px;
            height: 4px;
            background: linear-gradient(to right, var(--primary), var(--accent));
            border-radius: 3px;
        }
        
        h3 {
            font-size: 1.4rem;
            color: #000;
            margin: 1.8rem 0 1rem;
            display: flex;
            align-items: center;
            font-weight: 600;
        }
        
        p {
            font-size: 1.05rem;
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }
        
        strong {
            color: #000;
            font-weight: 700;
        }

        /* Layout */
        header {
            background: linear-gradient(to bottom, rgba(0,0,0,0.4), transparent);
            padding: 4rem 1.5rem 2rem;
            text-align: center;
            position: relative;
            z-index: 2;
        }
        
        .subtitle {
            font-family: 'Inter', sans-serif;
            font-weight: 500;
            color: rgba(255, 255, 255, 0.9);
            letter-spacing: 3px;
            text-transform: uppercase;
            font-size: 1rem;
            margin-top: 10px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
        }
        
        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 1.5rem;
            position: relative;
            z-index: 2;
        }
        
        /* Modern Tabs - Pill Style */
        .tabs {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 2.5rem;
            gap: 12px;
        }
        
        .tab {
            padding: 0.9rem 1.8rem;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 600;
            border-radius: 50px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(5px);
            color: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.2);
            font-size: 1rem;
        }
        
        .tab:hover {
            background: rgba(255, 255, 255, 0.2);
            color: #fff;
            transform: translateY(-2px);
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.3);
        }
        
        .tab.active {
            background: linear-gradient(135deg, #7e22ce 0%, #581c87 100%); /* 紫色漸層 */
            color: white;
            border-color: transparent;
            box-shadow: 0 0 20px rgba(126, 34, 206, 0.5);
        }
        
        /* Content Area */
        .tab-content {
            display: none;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            padding: 3.5rem;
            border-radius: 24px;
            box-shadow: var(--shadow-card);
            border: 1px solid var(--glass-border);
            margin-bottom: 2rem;
            animation: slideUp 0.6s cubic-bezier(0.22, 1, 0.36, 1);
        }
        
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* Cards */
        .card {
            background: #ffffff;
            border-radius: 16px;
            padding: 2.2rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
            border: 1px solid #e5e7eb;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: var(--primary);
            opacity: 0.7;
        }
        
        .card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px -3px rgba(0, 0, 0, 0.1);
        }
        
        /* Tables */
        table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            margin: 1.5rem 0;
            font-size: 1rem;
        }
        
        th {
            background-color: var(--primary-light);
            color: var(--primary-medium);
            font-weight: 800;
            text-transform: uppercase;
            font-size: 0.9rem;
            letter-spacing: 1px;
            padding: 16px;
            border-bottom: 2px solid #d8b4fe;
        }
        
        td {
            padding: 16px;
            border-bottom: 1px solid #e5e7eb;
            color: #111;
            font-weight: 500;
        }
        
        tr:hover td {
            background-color: #f3e8ff;
        }
        
        /* Example Box */
        .example {
            background: linear-gradient(to right, #f3e8ff, #fff);
            border-left: 4px solid var(--primary);
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 0 12px 12px 0;
            font-size: 1.05rem;
            color: #1f2937;
        }
        
        .highlight {
            background-color: rgba(251, 191, 36, 0.2); /* 金色高亮 */
            color: #78350f; /* 深琥珀色 */
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 700;
            border-bottom: 2px solid rgba(245, 158, 11, 0.4);
        }
        
        /* Interactive Console */
        .interactive-element {
            background: #fff;
            border: 2px solid #e5e7eb;
            padding: 2.5rem;
            border-radius: 20px;
            margin: 2.5rem 0;
            text-align: center;
        }
        
        .clause-animation {
            height: 180px;
            background: #0f172a; /* 深藍色控制台背景 */
            color: #a78bfa; /* 淺紫色文字 */
            border-radius: 16px;
            margin: 2rem auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-family: 'Courier New', monospace;
            font-size: 1.3rem;
            font-weight: bold;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.5);
            max-width: 650px;
            border: 1px solid #334155;
            padding: 20px;
        }
        
        /* Buttons */
        .btn {
            background: linear-gradient(135deg, var(--primary) 0%, #7e22ce 100%);
            color: white;
            border: none;
            padding: 1rem 2.5rem;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 700;
            font-size: 1rem;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(126, 34, 206, 0.3);
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }
        
        .btn:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 8px 20px rgba(126, 34, 206, 0.4);
        }

        /* Note Box */
        .note-box {
            background-color: #fffbeb;
            border: 1px solid #fcd34d;
            border-left: 5px solid #f59e0b;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 8px;
            color: #78350f;
            font-weight: 500;
        }
        
        /* Diagram */
        .usage-diagram {
            text-align: center;
            margin: 2rem 0;
        }
        
        .diagram {
            width: 100%;
            max-width: 600px;
            height: 320px;
            background: radial-gradient(circle at center, #ffffff 0%, #f3e8ff 100%);
            border-radius: 24px;
            position: relative;
            margin: 0 auto;
            border: 2px solid #d8b4fe;
            box-shadow: inset 0 0 20px rgba(126, 34, 206, 0.05);
        }
        
        .diagram-item {
            position: absolute;
            padding: 12px 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            text-align: center;
            width: 150px;
            font-weight: 700;
            color: var(--primary-medium);
            font-size: 0.95rem;
            border: 2px solid transparent;
            transition: 0.3s;
        }
        
        .diagram-item:hover {
            transform: scale(1.1);
            z-index: 10;
            border-color: var(--primary);
            box-shadow: 0 10px 20px rgba(0,0,0,0.15);
        }
        
        /* Footer */
        footer {
            text-align: center;
            padding: 4rem 2rem;
            margin-top: 4rem;
            background-color: rgba(0,0,0,0.5);
            color: rgba(255,255,255,0.6);
            font-size: 0.9rem;
            position: relative;
            z-index: 2;
        }

        @media (max-width: 768px) {
            h1 { font-size: 2rem; }
            .tab-content { padding: 1.5rem; }
            .diagram-item { width: 110px; font-size: 0.8rem; padding: 10px; }
        }
    </style>
</head>
<body>
    <div class="stars-container" id="starsContainer"></div>

    <header>
        <div class="header-content">
            <h1>Relative Clauses Masterclass</h1>
            <p class="subtitle">Shirley's Premium Learning Platform | 形容詞子句專研</p>
        </div>
    </header>
    
    <div class="container">
        <div class="tabs">
            <div class="tab active" data-tab="intro">Introduction | 介紹</div>
            <div class="tab" data-tab="pronouns">Relative Pronouns | 關係代名詞</div>
            <div class="tab" data-tab="adverbs">Relative Adverbs | 關係副詞</div>
            <div class="tab" data-tab="restrictive">Types | 限定與非限定</div>
            <div class="tab" data-tab="special">Special | 特殊用法</div>
            <div class="tab" data-tab="reduction">Reduction | 簡化子句</div>
        </div>
        
        <div class="tab-content active" id="intro">
            <h2><i class="fas fa-book-open"></i> 形容詞子句介紹 | Introduction</h2>
            
            <div class="card">
                <h3>什麼是形容詞子句？ | What is an Adjective Clause?</h3>
                <p>形容詞子句又稱關係子句，由關係代名詞(who, whom, whose, which, that)或關係副詞(when, where, why)所引導，用於修飾一個先前出現的名詞，又稱<strong>先行詞 (Antecedent)</strong>。</p>
                <p>它就像一個「超長形容詞」，放在名詞後面，用來把那個名詞描述得更清楚。</p>
                
                <div class="example">
                    <p><strong>例子 Example:</strong> The man <span class="highlight">who is standing there</span> is my teacher.</p>
                    <p>站在那裡的那個男人是我的老師。</p>
                </div>
                 <div class="example">
                    <p><strong>例子 Example:</strong> This is the book <span class="highlight">that I bought yesterday</span>.</p>
                    <p>這是我昨天買的書。</p>
                </div>
            </div>
            
            <div class="card">
                <h3>基本結構 | Basic Structure</h3>
                <table>
                    <thead>
                        <tr>
                            <th>先行詞 Antecedent</th>
                            <th>關係詞 Relative Word</th>
                            <th>例子 Example</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>人 (Person)</td>
                            <td>who, whom, that</td>
                            <td>The woman <span class="highlight">who lives next door</span> is a doctor.</td>
                        </tr>
                        <tr>
                            <td>物 (Thing)</td>
                            <td>which, that</td>
                            <td>The book <span class="highlight">which is on the table</span> is mine.</td>
                        </tr>
                        <tr>
                            <td>所有格 (Possessive)</td>
                            <td>whose</td>
                            <td>The student <span class="highlight">whose father is a teacher</span> studies hard.</td>
                        </tr>
                        <tr>
                            <td>地點 (Place)</td>
                            <td>where</td>
                            <td>This is the house <span class="highlight">where I was born</span>.</td>
                        </tr>
                        <tr>
                            <td>時間 (Time)</td>
                            <td>when</td>
                            <td>I remember the day <span class="highlight">when we first met</span>.</td>
                        </tr>
                         <tr>
                            <td>原因 (Reason)</td>
                            <td>why</td>
                            <td>That is the reason <span class="highlight">why I'm late</span>.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div class="card">
                <h3>角色定位 | Usage Diagram</h3>
                <p>形容詞子句的功能就是「修飾」，它永遠緊緊跟隨在先行詞之後。</p>
                <div class="usage-diagram">
                    <div class="diagram">
                         <div class="diagram-item" style="top: 30px; left: 50%; transform: translateX(-50%); background: #f3e8ff; border-color: var(--primary);">句子結構</div>
                        <div class="diagram-item" style="top: 100px; left: 15%;">先行詞<br><small>Antecedent</small></div>
                        <div class="diagram-item" style="top: 100px; right: 15%;">關係詞<br><small>Relative Word</small></div>
                        <div class="diagram-item" style="bottom: 50px; left: 50%; transform: translateX(-50%); width: 250px;">形容詞子句<br><small>Adjective Clause</small></div>
                        </div>
                </div>
            </div>
            
            <div class="interactive-element">
                <h3><i class="fas fa-eye"></i> 互動識別 | Identify the Clause</h3>
                <p>識別句子中的形容詞子句部分</p>
                <div class="clause-animation" id="clauseAnimation">
                    The book that I'm reading is very interesting.
                </div>
                <div class="animation-controls" style="margin-top: 1.5rem; display: flex; justify-content: center; gap: 15px;">
                    <button class="btn" id="playAnimation">
                        <i class="fas fa-play"></i> 播放動畫
                    </button>
                    <button class="btn" id="pauseAnimation" style="background: #4b5563;">
                        <i class="fas fa-pause"></i> 暫停
                    </button>
                </div>
            </div>
        </div>
        
        <div class="tab-content" id="pronouns">
            <h2><i class="fas fa-user-tag"></i> 關係代名詞 | Relative Pronouns</h2>
            
            <div class="card">
                <h3>who, whom, that (先行詞為人)</h3>
                
                <div class="example">
                    <p><strong>例子 Example:</strong> She is a teacher <span class="highlight">who teaches English writing</span>.</p>
                    <p>她是一位教英語寫作的老師。</p>
                    <p class="note-box" style="margin-top:10px; font-size:0.9rem;">Who 作主詞，不可省略，可用 that 代替。</p>
                </div>
                
                <div class="example">
                    <p><strong>例子 Example:</strong> She is a teacher <span class="highlight">whom many of her students respect</span>.</p>
                    <p>她是一位許多學生尊敬的老師。</p>
                    <p class="note-box" style="margin-top:10px; font-size:0.9rem;">Whom 作受詞，可省略，可用 that 代替。</p>
                </div>
            </div>
            
            <div class="card">
                <h3>whose (所有格：... 的)</h3>
                <p>用來表示「先行詞的...」。</p>
                
                <div class="example">
                    <p><strong>例子 Example:</strong> The students <span class="highlight">whose English grammar is weak</span> will find writing difficult.</p>
                    <p>英語語法薄弱的學生會發現寫作很困難。</p>
                </div>
                
                <div class="example">
                    <p><strong>例子 Example:</strong> The house <span class="highlight">whose roof is old</span> belongs to the government.</p>
                    <p>屋頂老舊的房子屬於政府。</p>
                </div>
            </div>
            
            <div class="card">
                <h3>which, that (先行詞為物)</h3>
                
                <div class="example">
                    <p><strong>例子 Example:</strong> I like the dress <span class="highlight">that/which my brother brought me</span>.</p>
                    <p>我喜歡我哥哥給我帶來的連衣裙。</p>
                </div>
                
                <div class="example">
                    <p><strong>例子 Example:</strong> We live in Taiwan, <span class="highlight">which has a variety of delicious foods</span>.</p>
                    <p>我們住在台灣，那裡有各種各樣的美食。</p>
                </div>
            </div>
            
            <div class="interactive-element">
                <h3><i class="fas fa-pen-fancy"></i> 填空練習 | Pronoun Practice</h3>
                <div class="clause-animation" id="pronounAnimation">
                    The woman ______ lives next door is a doctor.
                </div>
                <div class="animation-controls" style="margin-top: 1.5rem; display: flex; justify-content: center; gap: 15px;">
                    <button class="btn" id="playPronounAnimation">
                        <i class="fas fa-play"></i> 播放動畫
                    </button>
                    <button class="btn" id="pausePronounAnimation" style="background: #4b5563;">
                        <i class="fas fa-pause"></i> 暫停
                    </button>
                </div>
            </div>
        </div>
        
        <div class="tab-content" id="adverbs">
            <h2><i class="fas fa-map-marker-alt"></i> 關係副詞 | Relative Adverbs</h2>
            
            <div class="card">
                <h3>Where, When, Why</h3>
                <p>分別修飾地點、時間與原因。它們其實等於「介系詞 + which」。</p>
                
                <table>
                    <thead>
                        <tr>
                            <th>關係副詞</th>
                            <th>等於 (= Prep + which)</th>
                            <th>例子 Example</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>where</td>
                            <td>in/at/on which</td>
                            <td>The house <span class="highlight">where I live</span>.</td>
                        </tr>
                        <tr>
                            <td>when</td>
                            <td>on/in/at which</td>
                            <td>The day <span class="highlight">when we met</span>.</td>
                        </tr>
                        <tr>
                            <td>why</td>
                            <td>for which</td>
                            <td>The reason <span class="highlight">why I came</span>.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div class="card">
                <h3>實例演示 | Examples</h3>
                <div class="example">
                    <p><strong>Where:</strong> I come from New Zealand, a country <span class="highlight">where there are more sheep than people</span>.</p>
                </div>
                <div class="example">
                    <p><strong>When:</strong> I will never forget the day <span class="highlight">when I first arrived in Taipei</span>.</p>
                </div>
                <div class="example">
                    <p><strong>Why:</strong> That is the main reason <span class="highlight">why she is on a diet</span>.</p>
                </div>
            </div>
            
            <div class="interactive-element">
                <h3><i class="fas fa-clock"></i> 關係副詞練習 | Adverb Practice</h3>
                <div class="clause-animation" id="adverbAnimation">
                    I remember the day ______ we first met.
                </div>
                <div class="animation-controls" style="margin-top: 1.5rem; display: flex; justify-content: center; gap: 15px;">
                    <button class="btn" id="playAdverbAnimation">
                        <i class="fas fa-play"></i> 播放動畫
                    </button>
                    <button class="btn" id="pauseAdverbAnimation" style="background: #4b5563;">
                        <i class="fas fa-pause"></i> 暫停
                    </button>
                </div>
            </div>
        </div>
        
        <div class="tab-content" id="restrictive">
            <h2><i class="fas fa-balance-scale"></i> 限定與非限定 | Restrictive vs Non-Restrictive</h2>
            
            <div class="card">
                <h3>限定關係子句 | Restrictive</h3>
                <p>沒有逗號。用來明確指出是「哪一個」，拿掉句子意思不清楚。</p>
                <div class="example">
                    <p>The student <span class="highlight">who sits in the back</span> asks a lot of questions.</p>
                    <p>(特指坐在後面的那位學生，不是別人)</p>
                </div>
            </div>
            
            <div class="card">
                <h3>非限定關係子句 | Non-Restrictive</h3>
                <p>有逗號。用來補充說明，拿掉句子意思仍然完整。<strong>注意：不能用 that。</strong></p>
                <div class="example">
                    <p>My English teacher, <span class="highlight">who just came back from the US</span>, is sharing his trip.</p>
                    <p>(補充說明老師的背景，拿掉也不影響他是老師的事實)</p>
                </div>
                <div class="example">
                    <p>Taipei, <span class="highlight">which is the capital</span>, is a busy city.</p>
                    <p>(台北只有一個，所以不需要限定，只能補充說明)</p>
                </div>
            </div>
            
            <div class="interactive-element">
                <h3><i class="fas fa-random"></i> 辨識練習 | Distinction Practice</h3>
                <div class="clause-animation" id="restrictiveAnimation">
                    My brother, who lives in London, is a doctor.
                </div>
                <div class="animation-controls" style="margin-top: 1.5rem; display: flex; justify-content: center; gap: 15px;">
                    <button class="btn" id="playRestrictiveAnimation">
                        <i class="fas fa-play"></i> 播放動畫
                    </button>
                    <button class="btn" id="pauseRestrictiveAnimation" style="background: #4b5563;">
                        <i class="fas fa-pause"></i> 暫停
                    </button>
                </div>
            </div>
        </div>
        
        <div class="tab-content" id="special">
            <h2><i class="fas fa-magic"></i> 特殊用法 | Special Usage</h2>
            
            <div class="card">
                <h3>As vs Which 引導非限定子句</h3>
                <p>兩者都可以代表「整句話」，但用法稍有不同。</p>
                
                <div class="example">
                    <p><strong>Which (只能放句尾):</strong> He was late again, <span class="highlight">which made the teacher angry</span>.</p>
                    <p>(他遲到這件事，讓老師很生氣)</p>
                </div>
                
                <div class="example">
                    <p><strong>As (可放句首或句尾，常含「正如」之意):</strong> <span class="highlight">As is known to all</span>, the US is a big country.</p>
                    <p>(正如眾所周知...)</p>
                </div>
            </div>
            
            <div class="card">
                <h3>只能用 That 的情況</h3>
                <p>當先行詞被「強烈修飾」時，習慣用 that。</p>
                <ul style="list-style: none; padding-left: 10px;">
                    <li style="margin-bottom: 10px;"><i class="fas fa-check" style="color:var(--primary)"></i> <strong>最高級：</strong> The most interesting book <span class="highlight">that</span> I have read.</li>
                    <li style="margin-bottom: 10px;"><i class="fas fa-check" style="color:var(--primary)"></i> <strong>序數 (First, Last)：</strong> The first city <span class="highlight">that</span> I visited.</li>
                    <li style="margin-bottom: 10px;"><i class="fas fa-check" style="color:var(--primary)"></i> <strong>全稱/不定代名詞 (All, Everything)：</strong> Is there anything <span class="highlight">that</span> you need?</li>
                    <li style="margin-bottom: 10px;"><i class="fas fa-check" style="color:var(--primary)"></i> <strong>人+物：</strong> The man and his dog <span class="highlight">that</span> are running.</li>
                </ul>
            </div>
            
            <div class="interactive-element">
                <h3><i class="fas fa-check-double"></i> 選擇練習 | Selection Practice</h3>
                <div class="clause-animation" id="specialAnimation">
                    This is the best movie ______ I have ever seen.
                </div>
                <div class="animation-controls" style="margin-top: 1.5rem; display: flex; justify-content: center; gap: 15px;">
                    <button class="btn" id="playSpecialAnimation">
                        <i class="fas fa-play"></i> 播放動畫
                    </button>
                    <button class="btn" id="pauseSpecialAnimation" style="background: #4b5563;">
                        <i class="fas fa-pause"></i> 暫停
                    </button>
                </div>
            </div>
        </div>
        
        <div class="tab-content" id="reduction">
            <h2><i class="fas fa-compress-arrows-alt"></i> 簡化形容詞子句 | Reduction</h2>
            
            <div class="card">
                <h3>簡化心法 | The Rule</h3>
                <p>將「落落長」的子句簡化為分詞片語，讓句子更精煉。</p>
                <div class="note-box">
                    <strong>口訣：</strong> 去掉關代，去掉 Be 動詞。主動變 V-ing，被動變 P.P.。
                </div>
                
                <div class="example">
                    <p><strong>主動 (Active):</strong> The boy <span style="text-decoration: line-through; opacity: 0.5;">who is</span> sitting at the back...</p>
                    <p><i class="fas fa-arrow-right" style="color:var(--primary)"></i> The boy <span class="highlight">sitting at the back</span> is my brother.</p>
                </div>
                
                <div class="example">
                    <p><strong>被動 (Passive):</strong> The book <span style="text-decoration: line-through; opacity: 0.5;">which was</span> written by him...</p>
                    <p><i class="fas fa-arrow-right" style="color:var(--primary)"></i> The book <span class="highlight">written by him</span> is popular.</p>
                </div>
                
                <div class="example">
                    <p><strong>普通動詞 (Verbs):</strong> I am a teacher <span style="text-decoration: line-through; opacity: 0.5;">who teaches</span> English...</p>
                    <p><i class="fas fa-arrow-right" style="color:var(--primary)"></i> I am a teacher <span class="highlight">teaching English</span>.</p>
                </div>
            </div>
            
            <div class="interactive-element">
                <h3><i class="fas fa-magic"></i> 變身練習 | Reduction Magic</h3>
                <div class="clause-animation" id="reductionAnimation">
                    The woman who is wearing a red dress is my sister.
                </div>
                <div class="animation-controls" style="margin-top: 1.5rem; display: flex; justify-content: center; gap: 15px;">
                    <button class="btn" id="playReductionAnimation">
                        <i class="fas fa-play"></i> 播放動畫
                    </button>
                    <button class="btn" id="pauseReductionAnimation" style="background: #4b5563;">
                        <i class="fas fa-pause"></i> 暫停
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <footer>
        <p>Shirley's Relative Clauses Masterclass</p>
        <p>© 2025 Shirley's Grammar E-Charger | Designed with <i class="fas fa-heart" style="color:var(--primary)"></i></p>
    </footer>

    <script>
        // 生成星空
        function createStars() {
            const container = document.getElementById('starsContainer');
            const starCount = 60;
            
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                const x = Math.random() * 100;
                const y = Math.random() * 100;
                const size = Math.random() * 3 + 1;
                const duration = Math.random() * 3 + 2;
                const opacity = Math.random() * 0.7 + 0.3;
                const delay = Math.random() * 5;
                
                star.style.left = `${x}%`;
                star.style.top = `${y}%`;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                star.style.setProperty('--duration', `${duration}s`);
                star.style.setProperty('--opacity', opacity);
                star.style.animationDelay = `${delay}s`;
                
                container.appendChild(star);
            }
        }

        createStars();

        // 選項卡功能
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                tab.classList.add('active');
                const tabId = tab.getAttribute('data-tab');
                document.getElementById(tabId).classList.add('active');
                playSound('click');
            });
        });
        
        let animationInterval;
        
        // 1. Intro Animation
        document.getElementById('playAnimation').addEventListener('click', () => {
            const animation = document.getElementById('clauseAnimation');
            let count = 0;
            const sentences = [
                {sentence: 'The book <span class="highlight" style="color:#000">that I\'m reading</span> is very interesting.', explanation: '形容詞子句: that I\'m reading'},
                {sentence: 'The woman <span class="highlight" style="color:#000">who lives next door</span> is a doctor.', explanation: '形容詞子句: who lives next door'},
                {sentence: 'This is the house <span class="highlight" style="color:#000">where I was born</span>.', explanation: '形容詞子句: where I was born'},
                {sentence: 'I remember the day <span class="highlight" style="color:#000">when we first met</span>.', explanation: '形容詞子句: when we first met'}
            ];
            
            clearInterval(animationInterval);
            animationInterval = setInterval(() => {
                animation.innerHTML = `${sentences[count].sentence}<br><small style="color:#a78bfa; font-weight:normal; margin-top:10px; display:block;">${sentences[count].explanation}</small>`;
                count = (count + 1) % sentences.length;
            }, 2500);
            playSound('success');
        });
        
        document.getElementById('pauseAnimation').addEventListener('click', () => {
            clearInterval(animationInterval);
            playSound('click');
        });
        
        // 2. Pronoun Animation
        document.getElementById('playPronounAnimation').addEventListener('click', () => {
            const animation = document.getElementById('pronounAnimation');
            let count = 0;
            const sentences = [
                {pronoun: '<span class="highlight" style="color:#000">who</span>'},
                {pronoun: '<span class="highlight" style="color:#000">that</span>'},
                {pronoun: '<span class="highlight" style="color:#000">(omitted)</span>'}
            ];
            
            clearInterval(animationInterval);
            animationInterval = setInterval(() => {
                animation.innerHTML = `The woman ${sentences[count].pronoun} lives next door is a doctor.`;
                count = (count + 1) % sentences.length;
            }, 2000);
            playSound('success');
        });
        
        document.getElementById('pausePronounAnimation').addEventListener('click', () => {
            clearInterval(animationInterval);
            playSound('click');
        });
        
        // 3. Adverb Animation
        document.getElementById('playAdverbAnimation').addEventListener('click', () => {
            const animation = document.getElementById('adverbAnimation');
            let count = 0;
            const sentences = [
                {adverb: '<span class="highlight" style="color:#000">when</span>'},
                {adverb: '<span class="highlight" style="color:#000">on which</span>'},
                {adverb: '<span class="highlight" style="color:#000">that</span>'}
            ];
            
            clearInterval(animationInterval);
            animationInterval = setInterval(() => {
                animation.innerHTML = `I remember the day ${sentences[count].adverb} we first met.`;
                count = (count + 1) % sentences.length;
            }, 2000);
            playSound('success');
        });

         document.getElementById('pauseAdverbAnimation').addEventListener('click', () => {
            clearInterval(animationInterval);
            playSound('click');
        });
        
        // 4. Restrictive Animation
        document.getElementById('playRestrictiveAnimation').addEventListener('click', () => {
            const animation = document.getElementById('restrictiveAnimation');
            let count = 0;
            const sentences = [
                {sentence: 'My brother, <span class="highlight" style="color:#000">who lives in London</span>, is a doctor.', type: '非限定 Non-Restrictive'},
                {sentence: 'The man <span class="highlight" style="color:#000">who lives next door</span> is a doctor.', type: '限定 Restrictive'},
                {sentence: 'Taipei, <span class="highlight" style="color:#000">which is the capital</span>, is a busy city.', type: '非限定 Non-Restrictive'}
            ];
            
            clearInterval(animationInterval);
            animationInterval = setInterval(() => {
                animation.innerHTML = `${sentences[count].sentence}<br><small style="color:#a78bfa; font-weight:normal; margin-top:10px; display:block;">${sentences[count].type}</small>`;
                count = (count + 1) % sentences.length;
            }, 2500);
            playSound('success');
        });
        
        document.getElementById('pauseRestrictiveAnimation').addEventListener('click', () => {
            clearInterval(animationInterval);
            playSound('click');
        });
        
        // 5. Special Animation
        document.getElementById('playSpecialAnimation').addEventListener('click', () => {
            const animation = document.getElementById('specialAnimation');
            let count = 0;
            const sentences = [
                {word: '<span class="highlight" style="color:#000">that</span>'},
                {word: '<span style="color:#ef4444; text-decoration:line-through">which</span>'}
            ];
            
            clearInterval(animationInterval);
            animationInterval = setInterval(() => {
                 if (count % 2 === 0) {
                     animation.innerHTML = `This is the best movie ${sentences[0].word} I have ever seen.<br><small style="color:#34d399">正確 Correct</small>`;
                 } else {
                     animation.innerHTML = `This is the best movie ${sentences[1].word} I have ever seen.<br><small style="color:#ef4444">錯誤 Incorrect</small>`;
                 }
                count = (count + 1) % 2;
            }, 2000);
            playSound('success');
        });
        
        document.getElementById('pauseSpecialAnimation').addEventListener('click', () => {
            clearInterval(animationInterval);
            playSound('click');
        });
        
        // 6. Reduction Animation
        document.getElementById('playReductionAnimation').addEventListener('click', () => {
            const animation = document.getElementById('reductionAnimation');
            let count = 0;
            const sentences = [
                {full: 'The woman <span class="highlight" style="color:#000">who is wearing a red dress</span> is my sister.', reduced: 'The woman <span class="highlight" style="color:#000">wearing a red dress</span> is my sister.'},
                {full: 'The book <span class="highlight" style="color:#000">that was written by him</span> is popular.', reduced: 'The book <span class="highlight" style="color:#000">written by him</span> is popular.'}
            ];
            
            clearInterval(animationInterval);
            animationInterval = setInterval(() => {
                if (count % 2 === 0) {
                    animation.innerHTML = `${sentences[Math.floor(count/2)].full}<br><small style="color:#94a3b8">完整句子 Full</small>`;
                } else {
                    animation.innerHTML = `${sentences[Math.floor(count/2)].reduced}<br><small style="color:#34d399">簡化後 Reduced</small>`;
                }
                count = (count + 1) % (sentences.length * 2);
            }, 2000);
            playSound('success');
        });
        
        document.getElementById('pauseReductionAnimation').addEventListener('click', () => {
            clearInterval(animationInterval);
            playSound('click');
        });
        
        function playSound(type) {
            console.log(`Playing ${type} sound`);
        }
        
        window.addEventListener('load', () => {
            playSound('welcome');
        });
    </script>
</body>
</html>
