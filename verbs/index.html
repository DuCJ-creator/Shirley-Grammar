<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shirley's Verb Master Class | å‹•è©å…¨æ”»ç•¥</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;800&family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            /* å°ˆæ¥­æ·±è—èˆ‡æµé‡‘é…è‰² */
            --primary: #1A365D;       /* æ·±é‚ƒè— */
            --primary-light: #4299E1; /* ç§‘æŠ€è— */
            --accent: #D69E2E;        /* é‡‘è‰²å¼·èª¿ */
            --surface: #FFFFFF;
            --bg-gradient: linear-gradient(180deg, #F7FAFC 0%, #E2E8F0 100%);
            
            --text-main: #2D3748;
            --text-secondary: #718096;
            
            --success: #38A169;
            --error: #E53E3E;
            
            --shadow-card: 0 4px 6px rgba(0, 0, 0, 0.05), 0 10px 15px rgba(0, 0, 0, 0.1);
            --radius: 16px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Nunito', 'Noto Sans TC', sans-serif; }

        body {
            background: var(--bg-gradient);
            color: var(--text-main);
            min-height: 100vh;
            line-height: 1.6;
            padding-bottom: 50px;
        }

        /* Header */
        header {
            background: var(--primary);
            color: white;
            padding: 40px 20px;
            text-align: center;
            box-shadow: 0 4px 20px rgba(26, 54, 93, 0.4);
            position: relative;
            overflow: hidden;
        }
        
        header::before {
            content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 60%);
            animation: rotate 60s linear infinite;
        }

        h1 { font-size: 2.2rem; font-weight: 800; margin-bottom: 10px; position: relative; }
        .subtitle { color: var(--primary-light); font-size: 1.1rem; position: relative; }

        .container {
            max-width: 1100px;
            margin: -30px auto 0;
            padding: 0 20px;
            position: relative;
            z-index: 10;
        }

        /* Canvas Visualization */
        .viz-container {
            background: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow-card);
            padding: 20px;
            margin-bottom: 30px;
            border: 1px solid rgba(0,0,0,0.05);
        }

        .canvas-wrapper {
            width: 100%;
            height: 250px;
            background: #F0F4F8;
            border-radius: 12px;
            margin-bottom: 15px;
            position: relative;
            overflow: hidden;
        }

        canvas { width: 100%; height: 100%; }

        .controls { display: flex; gap: 10px; flex-wrap: wrap; justify-content: center; }
        
        .btn-control {
            background: white; border: 1px solid #CBD5E0; color: var(--text-main);
            padding: 8px 16px; border-radius: 50px; cursor: pointer; transition: all 0.2s;
            font-weight: 600; font-size: 0.9rem;
        }
        .btn-control:hover, .btn-control.active {
            background: var(--primary); color: white; border-color: var(--primary);
            transform: translateY(-2px);
        }

        /* Content Navigation */
        .nav-tabs {
            display: flex; gap: 15px; margin-bottom: 25px; overflow-x: auto; padding-bottom: 5px;
            scrollbar-width: none;
        }
        .nav-tabs::-webkit-scrollbar { display: none; }

        .tab-btn {
            background: rgba(255,255,255,0.6);
            border: none; padding: 12px 24px; border-radius: 12px;
            color: var(--text-secondary); font-weight: 700; cursor: pointer;
            white-space: nowrap; transition: all 0.3s;
        }
        .tab-btn.active {
            background: var(--primary); color: white; box-shadow: 0 5px 15px rgba(26, 54, 93, 0.3);
        }

        /* Sections */
        .section-panel { display: none; animation: fadeIn 0.4s ease-out; }
        .section-panel.active { display: block; }

        /* Card Styles */
        .card {
            background: white; border-radius: var(--radius); padding: 25px;
            margin-bottom: 20px; box-shadow: var(--shadow-card);
            border-left: 5px solid var(--primary);
        }

        .card h3 { color: var(--primary); margin-bottom: 15px; font-size: 1.3rem; display: flex; align-items: center; gap: 10px; }
        
        .tag {
            font-size: 0.75rem; padding: 3px 8px; border-radius: 4px; 
            text-transform: uppercase; letter-spacing: 0.5px;
        }
        .tag.blue { background: #EBF8FF; color: #2B6CB0; }
        .tag.green { background: #F0FFF4; color: #2F855A; }
        .tag.yellow { background: #FFFFF0; color: #B7791F; }

        /* Complex Tense Grid Layout */
        .tense-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .tense-item {
            background: #FAFAFA; border: 1px solid #EEE; padding: 15px; border-radius: 10px;
        }
        .tense-item strong { color: var(--primary); display: block; margin-bottom: 5px; font-size: 1.1rem; }
        .tense-formula { color: var(--error); font-family: monospace; font-size: 0.9rem; background: #FFF5F5; padding: 2px 6px; border-radius: 4px; }
        .tense-example { font-style: italic; color: #555; margin-top: 8px; border-left: 2px solid #CBD5E0; padding-left: 8px; }

        /* Special Link Button */
        .link-portal {
            display: flex; align-items: center; justify-content: space-between;
            background: linear-gradient(135deg, #2C5282 0%, #2A4365 100%);
            color: white; padding: 20px 30px; border-radius: var(--radius);
            margin-bottom: 30px; text-decoration: none;
            box-shadow: 0 10px 20px rgba(44, 82, 130, 0.3);
            transition: transform 0.3s;
        }
        .link-portal:hover { transform: translateY(-3px); }
        .link-text h3 { margin: 0; font-size: 1.3rem; color: #F6AD55; }
        .link-text p { margin: 5px 0 0 0; font-size: 0.9rem; opacity: 0.9; }
        .link-icon { font-size: 2rem; }

        /* Voice Table */
        .voice-table { width: 100%; border-collapse: collapse; margin-top: 15px; font-size: 0.95rem; }
        .voice-table th { background: #EDF2F7; padding: 12px; text-align: left; color: var(--primary); }
        .voice-table td { border-bottom: 1px solid #EEE; padding: 12px; }
        .voice-table tr:last-child td { border-bottom: none; }
        .highlight { font-weight: bold; color: var(--primary-light); }

        /* Quiz */
        .quiz-box { text-align: center; padding: 40px; }
        .option-btn {
            display: block; width: 100%; max-width: 500px; margin: 10px auto;
            padding: 15px; background: white; border: 2px solid #E2E8F0;
            border-radius: 50px; cursor: pointer; font-size: 1rem;
            transition: all 0.2s;
        }
        .option-btn:hover { border-color: var(--primary); background: #EBF8FF; }
        .option-btn.correct { background: var(--success); color: white; border-color: var(--success); }
        .option-btn.wrong { background: var(--error); color: white; border-color: var(--error); }

        @keyframes rotate { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        @media (max-width: 768px) {
            .tense-grid { grid-template-columns: 1fr; }
            .link-portal { flex-direction: column; text-align: center; gap: 15px; }
        }
    </style>
</head>
<body>

    <header>
        <h1>Verb Master Class</h1>
        <div class="subtitle">è‹±èªå‹•è©å…¨æ–¹ä½è§£æå¹³å°</div>
    </header>

    <div class="container">
        
        <div class="viz-container">
            <h3 style="margin-bottom: 15px; color:var(--text-main);">âš¡ å‹•æ…‹å¯¦é©—å®¤</h3>
            <div class="canvas-wrapper" id="canvasContainer">
                <canvas id="verbCanvas"></canvas>
            </div>
            <div class="controls">
                <button class="btn-control active" onclick="setAnim('action')">å‹•ä½œ vs ç‹€æ…‹</button>
                <button class="btn-control" onclick="setAnim('timeline')">æ™‚æ…‹æ™‚é–“æµ</button>
                <button class="btn-control" onclick="setAnim('passive')">ä¸»å‹•è¢«å‹•è½‰æ›</button>
            </div>
        </div>

        <div class="nav-tabs">
            <button class="tab-btn active" onclick="switchTab('types')">å‹•è©ç¨®é¡ Types</button>
            <button class="tab-btn" onclick="switchTab('tenses')">12å¤§æ™‚æ…‹ Tenses</button>
            <button class="tab-btn" onclick="switchTab('voices')">è¢«å‹•èªæ…‹ Voices</button>
            <button class="tab-btn" onclick="switchTab('quiz')">è‡ªæˆ‘æ¸¬é©— Quiz</button>
        </div>

        <div id="types" class="section-panel active">
            <div class="card">
                <h3><span class="tag blue">Action</span> å‹•ä½œå‹•è© (Action Verbs)</h3>
                <p>æè¿°å…·é«”çš„å‹•ä½œï¼Œåˆ†ç‚ºåŠç‰©èˆ‡ä¸åŠç‰©ã€‚</p>
                <ul style="margin: 10px 0 10px 20px; color: #555;">
                    <li><strong>ä¸åŠç‰© (Vi.)</strong>ï¼šå‹•ä½œè‡ªå·±å®Œæˆï¼Œç„¡å—è©ã€‚<br><em>Ex: The bird <span class="highlight">flies</span>. (é³¥é£›)</em></li>
                    <li><strong>åŠç‰© (Vt.)</strong>ï¼šå‹•ä½œéœ€è¦æ¥å—è€… (Object)ã€‚<br><em>Ex: She <span class="highlight">eats</span> an apple. (å¥¹åƒè˜‹æœ)</em></li>
                </ul>
            </div>

            <div class="card">
                <h3><span class="tag green">State</span> é€£ç¶´å‹•è© (Linking Verbs)</h3>
                <p>ä¸è¡¨ç¤ºå‹•ä½œï¼Œè€Œæ˜¯é€£æ¥ä¸»è©èˆ‡å½¢å®¹è©/åè©ï¼Œè¡¨ç¤ºã€Œç‹€æ…‹ã€ã€‚</p>
                <div style="background:#F7FAFC; padding:15px; margin-top:10px; border-radius:8px;">
                    <p><strong>Be Verbs:</strong> am, is, are, was, were</p>
                    <p><strong>Sensory (æ„Ÿå®˜):</strong> look, sound, smell, taste, feel</p>
                    <p><strong>Change (æ”¹è®Š):</strong> become, get, turn, grow</p>
                    <p style="margin-top:5px; font-style:italic;">Ex: The food <span class="highlight">smells</span> good. (ä¸æ˜¯é£Ÿç‰©åœ¨èï¼Œæ˜¯å®ƒèèµ·ä¾†...)</p>
                </div>
            </div>

            <div class="card">
                <h3><span class="tag yellow">Help</span> åŠ©å‹•è© (Auxiliary Verbs)</h3>
                <p>å”åŠ©ä¸»è¦å‹•è©æ§‹æˆæ™‚æ…‹ã€èªæ°£æˆ–ç–‘å•å¥ã€‚</p>
                <p style="margin-top:10px;"><strong>Do / Does / Did:</strong> å½¢æˆç–‘å•æˆ–å¦å®šã€‚</p>
                <p><strong>Have / Has / Had:</strong> å½¢æˆå®Œæˆå¼ã€‚</p>
                <p><strong>Modals (æƒ…æ…‹):</strong> Can, Could, Will, Should, Must (å¾Œé¢æ¥åŸå½¢)ã€‚</p>
            </div>
        </div>

        <div id="tenses" class="section-panel">
            
            <a href="https://ducj-creator.github.io/Shirley-Grammar/irregular/verbs/" target="_blank" class="link-portal">
                <div class="link-text">
                    <h3>ğŸš€ å‰å¾€äº’å‹•å¼æ™‚æ…‹æ™‚é–“è»¸</h3>
                    <p>é»æ“Šé€™è£¡ï¼Œé€²å…¥ Shirley's Timeline é€²è¡Œæ›´æ·±å…¥çš„è¦–è¦ºåŒ–æ“ä½œèˆ‡ä¸è¦å‰‡å‹•è©ç·´ç¿’ã€‚</p>
                </div>
                <div class="link-icon">ğŸ”—</div>
            </a>

            <h2 style="margin-bottom: 20px; color: var(--primary);">12 Tenses Overview</h2>
            
            <div class="card">
                <h3>ç¾åœ¨å¼ (Present)</h3>
                <div class="tense-grid">
                    <div class="tense-item">
                        <strong>Simple Present</strong>
                        <span class="tense-formula">V / Vs</span>
                        <div class="tense-example">He walks to school. (ç¿’æ…£/äº‹å¯¦)</div>
                    </div>
                    <div class="tense-item">
                        <strong>Present Continuous</strong>
                        <span class="tense-formula">am/is/are + V-ing</span>
                        <div class="tense-example">He is walking now. (æ­£åœ¨ç™¼ç”Ÿ)</div>
                    </div>
                    <div class="tense-item">
                        <strong>Present Perfect</strong>
                        <span class="tense-formula">have/has + p.p.</span>
                        <div class="tense-example">He has walked 5km. (å·²å®Œæˆ/ç¶“é©—)</div>
                    </div>
                    <div class="tense-item">
                        <strong>Present Perfect Cont.</strong>
                        <span class="tense-formula">have/has been + V-ing</span>
                        <div class="tense-example">He has been walking for 2 hours. (æŒçºŒåˆ°ç¾åœ¨)</div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3>éå»å¼ (Past)</h3>
                <div class="tense-grid">
                    <div class="tense-item">
                        <strong>Simple Past</strong>
                        <span class="tense-formula">V-ed / Irregular</span>
                        <div class="tense-example">He walked yesterday. (éå»äº‹å¯¦)</div>
                    </div>
                    <div class="tense-item">
                        <strong>Past Continuous</strong>
                        <span class="tense-formula">was/were + V-ing</span>
                        <div class="tense-example">He was walking when I called. (éå»æ­£åœ¨)</div>
                    </div>
                    <div class="tense-item">
                        <strong>Past Perfect</strong>
                        <span class="tense-formula">had + p.p.</span>
                        <div class="tense-example">He had walked before rain started. (éå»çš„éå»)</div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3>æœªä¾†å¼ (Future)</h3>
                <div class="tense-grid">
                    <div class="tense-item">
                        <strong>Simple Future</strong>
                        <span class="tense-formula">will + V</span>
                        <div class="tense-example">He will walk tomorrow.</div>
                    </div>
                    <div class="tense-item">
                        <strong>Future Continuous</strong>
                        <span class="tense-formula">will be + V-ing</span>
                        <div class="tense-example">He will be walking at 9 AM.</div>
                    </div>
                </div>
            </div>
        </div>

        <div id="voices" class="section-panel">
            <div class="card">
                <h3>ä¸»å‹• vs è¢«å‹• (Active vs Passive)</h3>
                <p>ç•¶ã€Œå‹•ä½œçš„æ¥å—è€…ã€æ¯”ã€ŒåŸ·è¡Œè€…ã€é‡è¦æ™‚ï¼Œä½¿ç”¨è¢«å‹•èªæ…‹ã€‚</p>
                <div style="margin: 15px 0; padding: 10px; background: #FFF5F5; border-radius: 8px; color: var(--error); font-weight: bold; text-align: center;">
                    å…¬å¼ï¼šBe å‹•è© + éå»åˆ†è© (p.p.)
                </div>
                
                <table class="voice-table">
                    <thead>
                        <tr>
                            <th>æ™‚æ…‹</th>
                            <th>ä¸»å‹• Active</th>
                            <th>è¢«å‹• Passive</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>ç¾åœ¨ç°¡å–®</td>
                            <td>I write a letter.</td>
                            <td>A letter <strong>is written</strong> (by me).</td>
                        </tr>
                        <tr>
                            <td>éå»ç°¡å–®</td>
                            <td>I wrote a letter.</td>
                            <td>A letter <strong>was written</strong>.</td>
                        </tr>
                        <tr>
                            <td>æœªä¾†ç°¡å–®</td>
                            <td>I will write a letter.</td>
                            <td>A letter <strong>will be written</strong>.</td>
                        </tr>
                        <tr>
                            <td>ç¾åœ¨é€²è¡Œ</td>
                            <td>I am writing a letter.</td>
                            <td>A letter <strong>is being written</strong>.</td>
                        </tr>
                        <tr>
                            <td>ç¾åœ¨å®Œæˆ</td>
                            <td>I have written a letter.</td>
                            <td>A letter <strong>has been written</strong>.</td>
                        </tr>
                        <tr>
                            <td>åŠ©å‹•è©</td>
                            <td>I must write it.</td>
                            <td>It <strong>must be written</strong>.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div id="quiz" class="section-panel">
            <div class="card quiz-box">
                <h2 id="qText" style="margin-bottom: 20px;">æº–å‚™å¥½æŒ‘æˆ°äº†å—ï¼Ÿ</h2>
                <div id="optionsArea">
                    <button class="btn-control" onclick="startQuiz()" style="padding: 15px 40px; font-size: 1.2rem;">ğŸš€ é–‹å§‹æ¸¬é©—</button>
                </div>
                <div id="feedback" style="margin-top: 20px; height: 30px; font-weight: bold;"></div>
            </div>
        </div>

    </div>

    <script>
        // === Canvas Animation Engine ===
        const canvas = document.getElementById('verbCanvas');
        const ctx = canvas.getContext('2d');
        let animMode = 'action';
        let frame = 0;

        function resizeCanvas() {
            const wrapper = document.getElementById('canvasContainer');
            canvas.width = wrapper.clientWidth;
            canvas.height = wrapper.clientHeight;
        }
        window.addEventListener('resize', resizeCanvas);

        function drawEmoji(char, x, y, size) {
            ctx.font = `${size}px Arial`;
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText(char, x, y);
        }

        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            frame++;
            const cx = canvas.width / 2;
            const cy = canvas.height / 2;

            if (animMode === 'action') {
                // Action vs State
                const runX = (frame * 3) % (canvas.width + 100) - 50;
                
                // Action: Run
                ctx.fillStyle = "#2D3748"; ctx.font = "16px Nunito"; ctx.textAlign="left";
                ctx.fillText("Action Verb: Run (å‹•ä½œ)", 20, 30);
                drawEmoji("ğŸƒ", runX, cy - 40, 50);

                // State: Be
                ctx.fillText("Linking Verb: Be Happy (ç‹€æ…‹)", 20, cy + 30);
                drawEmoji("ğŸ˜Š", cx, cy + 60, 50); // Static
                
            } else if (animMode === 'timeline') {
                // Timeline Visualization
                ctx.beginPath();
                ctx.moveTo(50, cy); ctx.lineTo(canvas.width - 50, cy);
                ctx.strokeStyle = "#CBD5E0"; ctx.lineWidth = 4; ctx.stroke();
                
                // Dots
                [0.2, 0.5, 0.8].forEach((p, i) => {
                    const x = canvas.width * p;
                    ctx.beginPath(); ctx.arc(x, cy, 6, 0, Math.PI*2); ctx.fillStyle="#4299E1"; ctx.fill();
                    const labels = ["Past", "Now", "Future"];
                    ctx.fillStyle="#2D3748"; ctx.textAlign="center"; ctx.fillText(labels[i], x, cy + 25);
                });

                // Moving ball
                const progress = (frame % 300) / 300;
                const bx = 50 + progress * (canvas.width - 100);
                drawEmoji("â³", bx, cy - 30, 40);
                
                let text = "Present";
                if(progress < 0.35) text = "Past (did)";
                else if(progress > 0.65) text = "Future (will do)";
                
                ctx.fillStyle = "#D69E2E"; ctx.font = "bold 20px Nunito";
                ctx.fillText(text, cx, cy - 70);

            } else if (animMode === 'passive') {
                // Active / Passive Swap
                const cycle = Math.floor(frame / 180) % 2;
                
                if (cycle === 0) {
                    ctx.fillStyle = "#1A365D"; ctx.font = "20px Nunito"; ctx.textAlign="center";
                    ctx.fillText("ACTIVE: The boy eats the apple.", cx, 40);
                    drawEmoji("ğŸ‘¦", cx - 80, cy, 60);
                    drawEmoji("â¡ï¸", cx, cy, 40);
                    drawEmoji("ğŸ", cx + 80, cy, 50);
                } else {
                    ctx.fillStyle = "#E53E3E"; ctx.font = "20px Nunito"; ctx.textAlign="center";
                    ctx.fillText("PASSIVE: The apple IS EATEN BY the boy.", cx, 40);
                    // Swapped positions
                    drawEmoji("ğŸ", cx - 80, cy, 50);
                    drawEmoji("â¬…ï¸", cx, cy, 40);
                    drawEmoji("ğŸ‘¦", cx + 80, cy, 60);
                }
            }

            requestAnimationFrame(draw);
        }

        function setAnim(mode) {
            animMode = mode;
            frame = 0;
            document.querySelectorAll('.btn-control').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
        }

        resizeCanvas();
        requestAnimationFrame(draw);

        // === Tabs Logic ===
        function switchTab(id) {
            document.querySelectorAll('.section-panel').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            event.target.classList.add('active');
        }

        // === Quiz Logic ===
        const questions = [
            { q: "She ______ (go) to Paris last year.", opts: ["goes", "went", "has gone", "going"], ans: 1 },
            { q: "Listen! The baby ______ (cry).", opts: ["cries", "is crying", "cried", "was crying"], ans: 1 },
            { q: "I ______ (finish) my homework already.", opts: ["finish", "finished", "have finished", "finishing"], ans: 2 },
            { q: "The window ______ (break) by the storm.", opts: ["broke", "was broken", "breaks", "is breaking"], ans: 1 },
            { q: "He ______ (live) here for 10 years.", opts: ["lives", "has lived", "is living", "lived"], ans: 1 } // Present Perfect for duration
        ];
        let qIdx = 0;
        let score = 0;

        function startQuiz() {
            qIdx = 0; score = 0;
            loadQuestion();
        }

        function loadQuestion() {
            if (qIdx >= questions.length) {
                document.getElementById('qText').innerText = `æ¸¬é©—çµæŸï¼å¾—åˆ†ï¼š${score} / ${questions.length}`;
                document.getElementById('optionsArea').innerHTML = '<button class="btn-control" onclick="startQuiz()">å†æ¸¬ä¸€æ¬¡</button>';
                return;
            }
            const q = questions[qIdx];
            document.getElementById('qText').innerText = `${qIdx+1}. ${q.q}`;
            const area = document.getElementById('optionsArea');
            area.innerHTML = '';
            
            q.opts.forEach((opt, idx) => {
                const btn = document.createElement('button');
                btn.className = 'option-btn';
                btn.innerText = opt;
                btn.onclick = () => checkAns(btn, idx, q.ans);
                area.appendChild(btn);
            });
        }

        function checkAns(btn, idx, ans) {
            const btns = document.querySelectorAll('.option-btn');
            btns.forEach(b => b.style.pointerEvents = 'none');
            
            if (idx === ans) {
                btn.classList.add('correct');
                score++;
                document.getElementById('feedback').innerText = "âœ… Correct!";
                document.getElementById('feedback').style.color = "var(--success)";
            } else {
                btn.classList.add('wrong');
                btns[ans].classList.add('correct');
                document.getElementById('feedback').innerText = "âŒ Incorrect";
                document.getElementById('feedback').style.color = "var(--error)";
            }
            
            setTimeout(() => {
                qIdx++;
                document.getElementById('feedback').innerText = "";
                loadQuestion();
            }, 1500);
        }
    </script>
</body>
</html>
